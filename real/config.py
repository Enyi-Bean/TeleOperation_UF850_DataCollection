#!/usr/bin/env python3
"""
UF850 VR 遥操作配置文件
"""

# ==================== 机械臂连接配置 ====================
ROBOT_IP = "192.168.1.117"

# ==================== 控制模式配置 ====================
# 1: Servo motion mode (伺服模式，实时控制) - 推荐用于遥操作
# 7: Cartesian online trajectory planning mode (在线轨迹规划模式)
ROBOT_MODE = 1  # 修改为伺服模式,更适合实时遥操作

# ==================== 工作空间限制（相对于 base，单位：毫米） ====================
# 根据实际情况调整，确保安全
WORKSPACE_LIMITS = {
    'x': (200, 700),     # 前后范围：200-700mm
    'y': (-400, 400),    # 左右范围：±400mm
    'z': (100, 600)      # 上下范围：100-600mm
}

# ==================== 安全参数 ====================
# 单步最大位移（毫米）- 降低以减少速度和移动幅度
MAX_DELTA_POSITION = 8.0  # 从 30 降到 8，防止一下移动太远

# 单步最大旋转（弧度）
MAX_DELTA_ROTATION = 0.1  # 从 0.2 降到 0.1，减少旋转幅度

# 紧急停止按钮组合（同时按下 grip 和 trigger）
EMERGENCY_STOP_BUTTONS = ['grip', 'trigger']

# ==================== 控制参数 ====================
# 控制频率（Hz）- 伺服模式推荐 50-100Hz
CONTROL_FREQUENCY = 100

# 伺服模式参数 - 降低速度和加速度，更平滑、更安全
SERVO_SPEED = 200      # mm/s (从 500 降到 200)
SERVO_ACCELERATION = 150  # mm/s² (从 300 降到 150)

# 轨迹规划模式参数（降低速度以提高安全性）
TRAJECTORY_SPEED = 300    # mm/s（从 1000 降到 300）
TRAJECTORY_ACCELERATION = 1000  # mm/s²（从 5000 降到 1000）

# ==================== VR 参数 ====================
# VR 到机械臂空间的缩放因子
# 数值越大，VR 中需要更大的移动才对应真实空间的位移（更精细）
#SCALE_FACTOR = 5
SCALE_FACTOR = 2

# 位置平滑系数（0-1）
# 0: 完全平滑（延迟大），1: 无平滑（可能抖动）
POSITION_SMOOTHING = 0.5  # 从 0.3 增加到 0.5，更平滑的运动

# ==================== 夹爪配置 ====================
# 0: 无夹爪
# 1: xArm Gripper (标准夹爪)
# 2: xArm Gripper G2 (第二代夹爪)
# 3: BIO Gripper G2 (仿生夹爪)
GRIPPER_TYPE = 1  # 修改为你的夹爪类型 (1, 2, 或 3)

# ==================== 初始位置配置 ====================
# 机械臂初始安全位置 [x, y, z, roll, pitch, yaw]
# 单位：毫米和度
INITIAL_POSITION = [300, 0, 300, 180, 0, 0]  # z 从 300 增加到 450,避免离桌面太近

# ==================== 调试配置 ====================
# 是否打印详细日志
VERBOSE = True

# 是否显示实时位姿
SHOW_REALTIME_POSE = False

# ==================== 标定配置 ====================
# 标定数据保存路径
CALIBRATION_FILE = "calibration_data_uf850.json"
